package main

import (
	"fmt"
	"log"
	"os"
)

// Transport –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ª—é–±–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
type Transport interface {
	Move() string    // –ö–∞–∫ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è
	MaxLoad() int    // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (–∫–≥)
	ComfortLevel() int // –£—Ä–æ–≤–µ–Ω—å –∫–æ–º—Ñ–æ—Ä—Ç–∞ (1-10)
}

// Task –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∑–∞–∫–∞–∑ –∫—É—Ä—å–µ—Ä–∞
type Task struct {
	Name        string
	Weight      int    // –≤–µ—Å –≤ –∫–≥
	Destination string
}

// –ú–µ—Ç–æ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Task: –æ–ø–∏—Å–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
func (t Task) Execute() string {
	return fmt.Sprintf("‚úÖ –î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ: %s (–≤–µ—Å: %d –∫–≥) –≤ %s", t.Name, t.Weight, t.Destination)
}

// Walk ‚Äî –ø–µ—à–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ (–¥–∞–∂–µ —Å –±–æ–ª—å–Ω–æ–π –Ω–æ–≥–æ–π!)
type Walk struct {
	LegCondition int // 1-10 (1 = –æ—á–µ–Ω—å –±–æ–ª—å–Ω–æ, –∫–∞–∫ —Å–µ–≥–æ–¥–Ω—è —É –ì–æ—à–∏)
}

func (w Walk) Move() string {
	if w.LegCondition < 3 {
		return "ü¶µ –ë–æ–ª—å –≤ –Ω–æ–≥–µ, –Ω–æ –∏–¥—É –ø–µ—à–∫–æ–º —á–µ—Ä–µ–∑ —Å–Ω–µ–∂–Ω—É—é –∫–∞—à—É..."
	}
	return "üö∂ –ò–¥—É –ø–µ—à–∫–æ–º –ø–æ –∑–∏–º–Ω–∏–º —É–ª–∏—Ü–∞–º"
}

func (w Walk) MaxLoad() int    { return 5 } // –ú–∞–∫—Å–∏–º—É–º 5 –∫–≥ –ø—Ä–∏ –±–æ–ª–∏ –≤ –Ω–æ–≥–µ
func (w Walk) ComfortLevel() int { return w.LegCondition * 2 }

// Metro ‚Äî –º–µ—Ç—Ä–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏
type Metro struct{}

func (m Metro) Move() string    { return "üöá –ú—á—É—Å—å –≤ –º–µ—Ç—Ä–æ —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä –ú–æ—Å–∫–≤—ã" }
func (m Metro) MaxLoad() int    { return 20 }
func (m Metro) ComfortLevel() int { return 8 }

// Train ‚Äî —ç–ª–µ–∫—Ç—Ä–∏—á–∫–∞ –¥–ª—è –¥–∞–ª—å–Ω–∏—Ö —Ä–∞–π–æ–Ω–æ–≤
type Train struct{}

func (t Train) Move() string    { return "üöÜ –ï–¥—É –Ω–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–∫–µ –Ω–∞ –æ–∫—Ä–∞–∏–Ω—É –≥–æ—Ä–æ–¥–∞" }
func (t Train) MaxLoad() int    { return 30 }
func (t Train) ComfortLevel() int { return 6 }

// Courier —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–æ–π —Å –≤—ã–±–æ—Ä–æ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
type Courier struct {
	Name     string
	Transport Transport // –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å! –ú–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º
}

// –ú–µ—Ç–æ–¥: –≤—ã–±—Ä–∞—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –¥–ª—è –∑–∞–¥–∞—á–∏
func (c *Courier) AssignTransport(task *Task) {
	switch {
	case task.Weight <= c.Transport.MaxLoad() && c.Transport.ComfortLevel() > 3:
		log.Printf("   üöö %s: %s", c.Name, c.Transport.Move())
	default:
		log.Printf("   ‚ö†Ô∏è %s: –ë–æ–ª–∏—Ç –Ω–æ–≥–∞! –î–ª—è %s –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", c.Name, task.Name)
		// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –º–µ—Ç—Ä–æ, –µ—Å–ª–∏ –ø–µ—à–∫–æ–º –Ω–µ–ª—å–∑—è
		if task.Weight <= 20 {
			c.Transport = Metro{}
			log.Printf("   ‚û°Ô∏è –ü–µ—Ä–µ–∫–ª—é—á–∞—é—Å—å –Ω–∞ –º–µ—Ç—Ä–æ: %s", c.Transport.Move())
		}
	}
}

func main() {
	log.SetFlags(0)
	log.SetOutput(os.Stdout)

	log.Println("üåü 29 –¥–µ–∫–∞–±—Ä—è 2025. –ì–æ—à–∞, —Å–µ–≥–æ–¥–Ω—è —Ç—ã –≥–µ—Ä–æ–π! –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –±–æ–ª—å–Ω—É—é –Ω–æ–≥—É, –¥–æ—Å—Ç–∞–≤–∏–ª –∑–∞–∫–∞–∑—ã –∏ –∑–∞–±—Ä–∞–ª –ø–æ–¥–∞—Ä–∫–∏.")
	log.Println("üéØ –¢–µ–º–∞ –¥–Ω—è: Methods & Interfaces ‚Äî –∫–∞–∫ Go –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã –≤ –µ–¥–∏–Ω—É—é —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∞–≤–∫–∏.")

	// –°–æ–∑–¥–∞–µ–º –∑–∞–¥–∞—á–∏ –∏–∑ –ª–µ–≥–µ–Ω–¥—ã
	tasks := []Task{
		{"–î–æ–∫—É–º–µ–Ω—Ç—ã", 1, "–û—Ñ–∏—Å –≤ –±–∏–∑–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä–µ"},
		{"–û—Ä–≥—Ç–µ—Ö–Ω–∏–∫–∞", 15, "–®–∏–∫–∞—Ä–Ω—ã–π –æ—Ç–µ–ª—å –≤ —Ü–µ–Ω—Ç—Ä–µ"},
		{"–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∏", 8, "–ü–í–ó —É –¥–æ–º–∞"},
	}

	// –ì–æ—à–∞ —Å –±–æ–ª—å–Ω–æ–π –Ω–æ–≥–æ–π (—Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–æ–≥–∏ = 2 –ø–æ —à–∫–∞–ª–µ 1-10)
	gosha := Courier{
		Name: "–ì–æ—à–∞",
		Transport: Walk{LegCondition: 2}, // –°–µ–≥–æ–¥–Ω—è –Ω–æ–≥–∞ –≤ —É–∂–∞—Å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
	}

	// –î–æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∂–¥—ã–π –∑–∞–∫–∞–∑
	for i, task := range tasks {
		log.Printf("\nüì¶ –ó–∞–∫–∞–∑ #%d: %s", i+1, task.Name)
		gosha.AssignTransport(&task) // –í—ã–±–∏—Ä–∞–µ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥
		log.Println(task.Execute())   // –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–¥–∞—á—É
	}

	log.Println("\nüí° –£—Ä–æ–∫ –¥–Ω—è:")
	log.Println("‚Ä¢ –ú–µ—Ç–æ–¥—ã (–∫–∞–∫ Task.Execute) –¥–æ–±–∞–≤–ª—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º")
	log.Println("‚Ä¢ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–∫–∞–∫ Transport) –ø–æ–∑–≤–æ–ª—è—é—Ç –≥–∏–±–∫–æ –º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏")
	log.Println("‚Ä¢ Go –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è ‚Äî –µ—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –æ–Ω–∞ –µ–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç!")
	log.Println("\nüî• –ö–∞–∫ —Ç–≤–æ—è –Ω–æ–≥–∞ —Å–µ–≥–æ–¥–Ω—è: –±–æ–ª—å–Ω–æ, –Ω–æ —Ç—ã –∏–¥–µ—à—å –≤–ø–µ—Ä–µ–¥. –¢–∞–∫ –∏ –≤ Go: —á–µ—Ä–µ–∑ –±–æ–ª—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ!")
}

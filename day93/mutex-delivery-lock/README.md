# Day 93: –ú—å—é—Ç–µ–∫—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏ ‚Äî sync.Mutex –≤ Go

## üéØ –¶–µ–ª—å –º–æ–¥—É–ª—è
–ü–æ–Ω—è—Ç—å, –∫–∞–∫ `sync.Mutex` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –¥–∞–≤–∞—è —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ–±—â–µ–º—É —Ä–µ—Å—É—Ä—Å—É —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–π –≥–æ—Ä—É—Ç–∏–Ω–µ –∑–∞ —Ä–∞–∑. –ù–∞ –ø—Ä–∏–º–µ—Ä–µ —Å–ª—É–∂–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏ –ì–æ—à–∏.

## üìñ –°—é–∂–µ—Ç–Ω–∞—è –æ—Å–Ω–æ–≤–∞
–ì–æ—à–∞, –±–æ—Ä—è—Å—å —Å –¥–µ–ø—Ä–µ—Å—Å–∏–µ–π, —Å–æ–≤–µ—Ä—à–∞–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –ï–≥–æ –º—ã—Å–ª–∏ –≤ –¥–µ–ø—Ä–µ—Å—Å–∏–∏ ‚Äî –∫–∞–∫ –≥–æ—Ä—É—Ç–∏–Ω—ã –≤ –≥–æ–Ω–∫–µ –¥–∞–Ω–Ω—ã—Ö. `Mutex` ‚Äî —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —É–ø–æ—Ä—è–¥–æ—á–∏—Ç—å —Ö–∞–æ—Å, –∫–∞–∫ –≤ –∫–æ–¥–µ, —Ç–∞–∫ –∏ –≤ –∂–∏–∑–Ω–∏. –í–µ—á–µ—Ä–æ–º –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ —Å–æ–≤–º–µ—â–∞—Ç—å –≤–∏–¥–µ–æ–º–æ–Ω—Ç–∞–∂ travel-–≤–∏–¥–µ–æ –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Go ‚Äî –¥–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è, –Ω–æ –º–æ–≥—É—Ç —Å–æ—Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤–æ –≤—Ä–µ–º–µ–Ω–∏.

## üß† –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
- **–ú—å—é—Ç–µ–∫—Å (mutual exclusion)**: –ü—Ä–∏–º–∏—Ç–∏–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–π –≥–æ—Ä—É—Ç–∏–Ω–µ –µ–¥–∏–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –æ–±—â–µ–π –ø–∞–º—è—Ç–∏
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–µ–∫—Ü–∏—è**: –ß–∞—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã, –¥–æ—Å—Ç—É–ø –∫ –∫–æ—Ç–æ—Ä–æ–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω
- **–ì–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö (data race)**: –°–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Ä—É—Ç–∏–Ω –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ –æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ ‚Äî –∑–∞–ø–∏—Å—å
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞**: `mu.Lock()` –∏ `mu.Unlock()`

## üéÆ –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è: –£—Ä–æ–≤–Ω–∏ –≤–ª–∞–¥–µ–Ω–∏—è Mutex

### –£—Ä–æ–≤–µ–Ω—å 1: "–ö—É—Ä—å–µ—Ä-–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å"
**–ó–∞–¥–∞—á–∞:** –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—É 3 —Ä–∞–∑–∞.
**–ù–∞–±–ª—é–¥–µ–Ω–∏–µ:** –í –ß–∞—Å—Ç–∏ 1 –∏—Ç–æ–≥–æ–≤—ã–π –±–∞–ª–∞–Ω—Å –≤—Å–µ–≥–¥–∞ —Ä–∞–∑–Ω—ã–π (–≥–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö).
**–ù–∞–≥—Ä–∞–¥–∞:** –û—Å–æ–∑–Ω–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞—é—Ç –º—å—é—Ç–µ–∫—Å—ã.
**–§—Ä–∞–∑–∞:** *"–ì–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî –∫–∞–∫ –¥–µ–ø—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –º—ã—Å–ª–∏: –≤—Å–µ –Ω–∞–ø–µ—Ä–µ–≥–æ–Ω–∫–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ö–∞–æ—Ç–∏—á–µ–Ω."*

### –£—Ä–æ–≤–µ–Ω—å 2: "–î–∏—Å–ø–µ—Ç—á–µ—Ä"
**–ó–∞–¥–∞—á–∞:** –í —Ñ—É–Ω–∫—Ü–∏–∏ `processDeliveryWithMutex` –¥–æ–±–∞–≤—å –≤—ã–≤–æ–¥ –Ω–æ–º–µ—Ä–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–µ—Ä–µ–¥ `mu.Lock()` –∏ –ø–æ—Å–ª–µ.
**–ù–∞–±–ª—é–¥–µ–Ω–∏–µ:** –£–≤–∏–¥–∏—à—å, –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –≥–æ—Ä—É—Ç–∏–Ω—ã –ø—ã—Ç–∞—é—Ç—Å—è –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –º—å—é—Ç–µ–∫—Å.
**–ù–∞–≥—Ä–∞–¥–∞:** –ü–æ–Ω–∏–º–∞–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏ –∑–∞ –º—å—é—Ç–µ–∫—Å–æ–º.
**–§—Ä–∞–∑–∞:** *"Mutex ‚Äî –∫–∞–∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä—é–∫–∑–∞–∫ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏: —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∫—É—Ä—å–µ—Ä –º–æ–∂–µ—Ç –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ."*

### –£—Ä–æ–≤–µ–Ω—å 3: "–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä"
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞–π –æ—Ç–¥–µ–ª—å–Ω—ã–π –º—å—é—Ç–µ–∫—Å —Ç–æ–ª—å–∫–æ –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ (`balanceMu`), –∞ –Ω–µ –¥–ª—è –≤—Å–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏.
**–ü–æ–¥—Å–∫–∞–∑–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–ª–µ `balanceMu`, –∫–æ—Ç–æ—Ä–æ–µ —É–∂–µ –æ–±—ä—è–≤–ª–µ–Ω–æ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ.
**–ù–∞–≥—Ä–∞–¥–∞:** –ü–æ–Ω–∏–º–∞–Ω–∏–µ –≥—Ä–∞–Ω—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
**–§—Ä–∞–∑–∞:** *"–¢–æ—á–µ—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ ‚Äî –∫–∞–∫ —Ä–µ—à–µ–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –≤–∏–¥–µ–æ –Ω–æ—á—å—é, –∞ –∫–æ–¥–∏—Ç—å –¥–Ω—ë–º: —Ä–∞–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã, —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è."*

### –£—Ä–æ–≤–µ–Ω—å –ë–û–°–°: "–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫"
**–ó–∞–¥–∞—á–∞:** –†–µ–∞–ª–∏–∑—É–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—É—é –¥–æ—Å—Ç–∞–≤–∫—É: –¥–æ—Ä–æ–≥–∏–µ –∑–∞–∫–∞–∑—ã (‚â•700 —Ä—É–±) –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –ø–µ—Ä–≤—ã–º–∏.
**–ù–∞–≥—Ä–∞–¥–∞:** –ù–∞–≤—ã–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
**–§—Ä–∞–∑–∞:** *"–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –≤ –∫–æ–¥–µ ‚Äî –∫–∞–∫ –≤ –∂–∏–∑–Ω–∏: —Å–Ω–∞—á–∞–ª–∞ Go –¥–ª—è –∫–∞—Ä—å–µ—Ä—ã, –ø–æ—Ç–æ–º –º–æ–Ω—Ç–∞–∂ –¥–ª—è –¥—É—à–∏."*

## üí° 10 —Ñ—Ä–∞–∑, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö —Ä–µ—à–µ–Ω–∏–µ —Å–æ–≤–º–µ—â–∞—Ç—å Go –∏ –≤–∏–¥–µ–æ–º–æ–Ω—Ç–∞–∂

1. **"–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤–∏–¥–µ–æ –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—è Go ‚Äî –Ω–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã, –∞ —Å–æ—Å–µ–¥–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é. –ü–æ–∫–∞ –æ–¥–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –¥—Ä—É–≥–æ–µ –∂–¥—ë—Ç —Å–≤–æ–µ–π –æ—á–µ—Ä–µ–¥–∏ ‚Äî –∫–∞–∫ –≥–æ—Ä—É—Ç–∏–Ω—ã –∑–∞ –º—å—é—Ç–µ–∫—Å–æ–º."**
2. **"–¢–µ–±–µ 38 ‚Äî –Ω–µ –≤–æ–∑—Ä–∞—Å—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞ '–∏–ª–∏-–∏–ª–∏'. –≠—Ç–æ –≤–æ–∑—Ä–∞—Å—Ç –¥–ª—è '–∏ —Ç–æ, –∏ –¥—Ä—É–≥–æ–µ', –ø—Ä–æ—Å—Ç–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π."**
3. **"Travel-–≤–∏–¥–µ–æ ‚Äî —ç—Ç–æ —Ç–≤–æ—è –∏—Å—Ç–æ—Ä–∏—è. Go ‚Äî —Ç–≤–æ—ë –±—É–¥—É—â–µ–µ. –ò—Å—Ç–æ—Ä–∏—é –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, –ø–æ–∫–∞ –ø–∞–º—è—Ç—å —Å–≤–µ–∂–∞. –ë—É–¥—É—â–µ–µ ‚Äî –ø–æ—Å—Ç—Ä–æ–∏—Ç—å, –ø–æ–∫–∞ –µ—Å—Ç—å —Å–∏–ª—ã."**
4. **"–ú–æ–Ω—Ç–∞–∂ –≤ CapCut —Ä–∞–∑–≤–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–æ–µ –ø–æ–ª—É—à–∞—Ä–∏–µ (–∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å). Go —Ä–∞–∑–≤–∏–≤–∞–µ—Ç –ª–µ–≤–æ–µ (–ª–æ–≥–∏–∫—É). –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–∑–≥ ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–æ–∑–≥."**
5. **"–ü–æ–¥–ø–∏—Å—á–∏–∫–∏ –∂–¥—É—Ç —Ç–≤–æ–∏—Ö –≤–∏–¥–µ–æ. –†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–∏ –∂–¥—É—Ç —Ç–≤–æ–µ–≥–æ –∫–æ–¥–∞. –ò —Ç–µ, –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–∞–≤—ã. –ù—É–∂–Ω–æ –ª–∏—à—å –≥—Ä–∞–º–æ—Ç–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ."**
6. **"–ü–æ–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è 10-–º–∏–Ω—É—Ç–Ω—ã–π —Ä–æ–ª–∏–∫, –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å 100 —Å—Ç—Ä–æ–∫ Go-–∫–æ–¥–∞. –≠—Ç–æ –Ω–µ –ø–æ—Ç–µ—Ä—è –≤—Ä–µ–º–µ–Ω–∏, —ç—Ç–æ –µ–≥–æ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –¥–≤–∞ –∞–∫—Ç–∏–≤–∞."**
7. **"–í 38 –ª–µ—Ç –Ω–µ–π—Ä–æ–ø–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç. –ú–æ–Ω—Ç–∞–∂ —Å–æ–∑–¥–∞—ë—Ç –æ–¥–Ω–∏ –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–≤—è–∑–∏, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –¥—Ä—É–≥–∏–µ. –ß–µ–º –±–æ–ª—å—à–µ —Å–≤—è–∑–µ–π, —Ç–µ–º —É—Å—Ç–æ–π—á–∏–≤–µ–µ –ø—Å–∏—Ö–∏–∫–∞."**
8. **"Travel-–±–ª–æ–≥ ‚Äî —ç—Ç–æ –Ω–µ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ. –≠—Ç–æ –∞–∫—Ç–∏–≤, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –º–æ–Ω–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è. Go ‚Äî –Ω–∞–≤—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Ö–æ–¥. –î–≤–∞ –∞–∫—Ç–∏–≤–∞ –ª—É—á—à–µ –æ–¥–Ω–æ–≥–æ."**
9. **"–î–µ–ø—Ä–µ—Å—Å–∏—è –±–æ–∏—Ç—Å—è –¥–≤—É—Ö –≤–µ—â–µ–π: —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è. –ú–æ–Ω—Ç–∞–∂ –∏ –∫–æ–¥ –¥–∞—é—Ç –∏ —Ç–æ, –∏ –¥—Ä—É–≥–æ–µ."**
10. **"–¢—ã –Ω–µ '—Ä–∞–∑—Ä—ã–≤–∞–µ—à—å—Å—è –º–µ–∂–¥—É –¥–≤—É–º—è –¥–µ–ª–∞–º–∏'. –¢—ã '—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—à—å –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏'. –ö–∞–∫ –≥–æ—Ä—É—Ç–∏–Ω—ã –≤ —Ö–æ—Ä–æ—à–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π Go-–ø—Ä–æ–≥—Ä–∞–º–º–µ."**

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å
```bash
cd day93/mutex-delivery-lock
go run main.go

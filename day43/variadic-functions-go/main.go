package main

import (
	"bufio"
	"fmt"
	"os"
	"strings"
	"time"
)

// calculateRouteTime ‚Äî –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –º–∞—Ä—à—Ä—É—Ç–∞
func calculateRouteTime(stations ...string) int {
	baseTime := 15 // –º–∏–Ω—É—Ç –Ω–∞ –±–∞–∑–æ–≤—É—é —Å—Ç–∞–Ω—Ü–∏—é
	transferBonus := 5

	fmt.Printf("\nüöâ –ú–∞—Ä—à—Ä—É—Ç (%d —Å—Ç–∞–Ω—Ü–∏–π): %v\n", len(stations), stations)
	fmt.Println("   ‚îî‚îÄ‚îÄ –°—á–∏—Ç–∞–µ–º –≤—Ä–µ–º—è —Å –±–æ–Ω—É—Å–∞–º–∏...")

	totalTime := baseTime
	for i := 1; i < len(stations); i++ {
		// –ï—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –∏ –ø—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞–Ω—Ü–∏—è –Ω–∞ –æ–¥–Ω–æ–π –ª–∏–Ω–∏–∏ ‚Äî –¥–∞—ë–º –±–æ–Ω—É—Å
		if strings.Contains(stations[i], "–ö—É—Ç—É–∑–æ–≤—Å–∫–∞—è") && strings.Contains(stations[i-1], "–ö—É—Ç—É–∑–æ–≤—Å–∫–∞—è") {
			fmt.Printf("   ‚úÖ –ë–æ–Ω—É—Å –∑–∞ –ø–µ—Ä–µ—Å–∞–¥–∫—É –Ω–∞ %s: -%d –º–∏–Ω\n", stations[i], transferBonus)
			totalTime -= transferBonus
		}
		totalTime += 10 // —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –≤—Ä–µ–º—è –º–µ–∂–¥—É —Å—Ç–∞–Ω—Ü–∏—è–º–∏
	}
	return totalTime
}

// logLuckyDeliveries ‚Äî –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —É–¥–∞—á–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
func logLuckyDeliveries(deliveries ...string) (int, string) {
	luckyCount := 0
	routeDetails := ""

	for _, delivery := range deliveries {
		if strings.Contains(delivery, "—Ä–æ–¥–Ω–∞—è —É–ª–∏—Ü–∞") || strings.Contains(delivery, "—ç–ª–µ–∫—Ç—Ä–∏—á–∫–∞") {
			luckyCount++
			routeDetails += fmt.Sprintf("‚ú® %s\n", delivery)
		} else {
			routeDetails += fmt.Sprintf("üöö %s\n", delivery)
		}
	}

	mood := "–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π"
	if luckyCount == len(deliveries) {
		mood = "—Å—É–ø–µ—Ä-—Å—á–∞—Å—Ç–ª–∏–≤—ã–π"
	} else if luckyCount > 0 {
		mood = "–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π"
	}

	return luckyCount, fmt.Sprintf("–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: %s\n–î–µ—Ç–∞–ª–∏:\n%s", mood, routeDetails)
}

func main() {
	fmt.Printf("üéâ 16 –î–ï–ö–ê–ë–†–Ø 2025: –î–ï–ù–¨ –ù–ï–í–ï–†–û–Ø–¢–ù–û–ô –£–î–ê–ß–ò!\n")
	fmt.Println(strings.Repeat("=", 55))

	// –°–∏–º—É–ª–∏—Ä—É–µ–º —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –∑–∞–∫–∞–∑—ã
	currentTime := time.Now().Format("15:04")
	fmt.Printf("‚è∞ –°–µ–π—á–∞—Å: %s | –°—Ç–∞—Ç—É—Å: –°–∏–∂—É –¥–æ–º–∞ –≤ —Å–≤–∏—Ç–µ—Ä–µ, –ø—å—é —á–∞–π —Å –º–∞–º–æ–π\n", currentTime)

	// –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —É–¥–∞—á–Ω—ã–µ –∑–∞–∫–∞–∑—ã —á–µ—Ä–µ–∑ –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
	fmt.Println("\nüì¶ –£–î–ê–ß–ù–´–ï –ó–ê–ö–ê–ó–´ –°–ï–ì–û–î–ù–Ø:")
	luckyCount, details := logLuckyDeliveries(
		"–ö–æ—Ä–æ–±–∫–∞ —Å –ø–æ–¥–∞—Ä–∫–∞–º–∏ –¥–ª—è –±–∞–Ω–∫–∏—Ä–∞ (—Ä–æ–¥–Ω–∞—è —É–ª–∏—Ü–∞ ‚Üí –•–æ–≤—Ä–∏–Ω–æ)",
		"–î–æ–∫—É–º–µ–Ω—Ç—ã (—Ä–æ–¥–Ω–∞—è —É–ª–∏—Ü–∞ ‚Üí –ö—É—Ç—É–∑–æ–≤—Å–∫–∞—è)",
		"–≠–ª–µ–∫—Ç—Ä–∏—á–∫–∞ –ö—É—Ç—É–∑–æ–≤—Å–∫–∞—è ‚Üí –°–∞–Ω–∏–Ω–æ (–∏–¥–µ–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ—Å–∞–¥–∫–∞!)",
	)
	fmt.Println(details)
	fmt.Printf("üéØ –ò—Ç–æ–≥–æ —É–¥–∞—á–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤: %d/%d\n", luckyCount, 3)

	// –°—á–∏—Ç–∞–µ–º –≤—Ä–µ–º—è –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
	fmt.Println("\n‚è±Ô∏è –†–ê–°–ß–Å–¢ –ò–î–ï–ê–õ–¨–ù–û–ì–û –ú–ê–†–®–†–£–¢–ê:")
	totalTime := calculateRouteTime("–•–æ–≤—Ä–∏–Ω–æ", "–ö—É—Ç—É–∑–æ–≤—Å–∫–∞—è", "–°–∞–Ω–∏–Ω–æ")
	fmt.Printf("üî• –û–±—â–µ–µ –≤—Ä–µ–º—è –º–∞—Ä—à—Ä—É—Ç–∞: %d –º–∏–Ω—É—Ç (–≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö 35!)\n", totalTime)

	// –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
	fmt.Println("\n" + strings.Repeat("=", 55))
	fmt.Println("üí° –§–ò–õ–û–°–û–§–ò–Ø –ì–û–®–ò –°–ï–ì–û–î–ù–Ø:")
	fmt.Println("   '–≠—Ç–∏ –¥–≤–∞ –∑–∞–∫–∞–∑–∞ ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ —É–¥–∞—á–∞. –≠—Ç–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ:")
	fmt.Println("   –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ Go, –∫–∞–∫ –º–æ–∏ –º–∞—Ä—à—Ä—É—Ç—ã ‚Äî")
	fmt.Println("   –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –Ω–æ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.'")

	// –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤: –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –±—É–¥—É—â–µ–µ
	interactiveFuture()
}

func interactiveFuture() {
	fmt.Println("\nüîÆ –°–ü–†–û–°–ò –°–£–î–¨–ë–£:")
	fmt.Print("   –ß–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤ —Ç—ã –±—É–¥–µ—à—å —Ä–∞–±–æ—Ç–∞—Ç—å —É–¥–∞–ª—ë–Ω–Ω–æ? (–≤–≤–µ–¥–∏ —á–∏—Å–ª–æ): ")

	reader := bufio.NewReader(os.Stdin)
	input, _ := reader.ReadString('\n')
	input = strings.TrimSpace(input)

	months, err := time.ParseDuration(input + "h")
	if err != nil {
		fmt.Println("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç! –ù–æ —è –≤–µ—Ä—é: —Ç–≤–æ–π –æ—Ç–≤–µ—Ç ‚Äî 6 –º–µ—Å—è—Ü–µ–≤.")
		months = 6 * time.Hour
	}

	fmt.Printf("\nüåü –ü–†–û–ì–ù–û–ó –°–ë–´–õ–°–Ø:\n")
	fmt.Printf("   –ß–µ—Ä–µ–∑ %d –º–µ—Å—è—Ü–µ–≤ —Ç—ã —Å–∏–¥–∏—à—å –≤ –æ—Ñ–∏—Å–µ —Å –≤–∏–¥–æ–º –Ω–∞ –ú–æ—Å–∫–≤—É-—Ä–µ–∫—É.\n", int(months.Hours()/730))
	fmt.Println("   –¢–≤–æ–∏ –ø–∞–ª—å—Ü—ã —Å—Ç—É—á–∞—Ç –ø–æ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ, –∞ –Ω–µ –ø–æ –∫–Ω–æ–ø–∫–∞–º –∫—É—Ä—å–µ—Ä—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.")
	fmt.Println("   –ò –¥–∞ ‚Äî –±–æ—Ç–∏–Ω–∫–∏ —É —Ç–µ–±—è –Ω–æ–≤—ã–µ, —Å—É—Ö–∏–µ –∏ —Ç—ë–ø–ª—ã–µ.")
}

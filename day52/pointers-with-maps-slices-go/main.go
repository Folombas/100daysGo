package main

import (
	"bufio"
	"fmt"
	"os"
	"strings"
	"time"
)

// –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –¶–í–ï–¢–ù–û–ì–û –í–´–í–û–î–ê
func ansi(code string) string {
	return "\033[" + code + "m"
}

// Order –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–∫–∞–∑ –∫—É—Ä—å–µ—Ä–∞
type Order struct {
	ID       int
	Location string
	Earnings float64
	Status   string
}

// DeliveryMap ‚Äî –º–∞–ø–∞ –∑–∞–∫–∞–∑–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å
func updateOrderStatus(orders *map[int]Order, orderID int, newStatus string) {
	if order, exists := (*orders)[orderID]; exists {
		order.Status = newStatus
		(*orders)[orderID] = order
	}
}

// RouteSlice ‚Äî —Å–ª–∞–π—Å –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å
func addNewRoute(routes *[]string, newRoute string) {
	*routes = append(*routes, newRoute)
}

// calculateTotalEarnings —Å—á–∏—Ç–∞–µ—Ç –∑–∞—Ä–∞–±–æ—Ç–æ–∫ —Å —É—á—ë—Ç–æ–º –ø–æ–≥–æ–¥–Ω–æ–≥–æ –±–æ–Ω—É—Å–∞
func calculateTotalEarnings(orders map[int]Order, weatherBonus float64) float64 {
	total := 0.0
	for _, order := range orders {
		if order.Status == "completed" {
			total += order.Earnings * (1 + weatherBonus)
		}
	}
	return total
}

// updateEnergyLevel –∏–∑–º–µ–Ω—è–µ—Ç —É—Ä–æ–≤–µ–Ω—å —ç–Ω–µ—Ä–≥–∏–∏ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
func updateEnergyLevel(energy *int, hoursStudying float64) {
	recovery := int(hoursStudying * 30)
	if *energy+recovery > 100 {
		*energy = 100
	} else {
		*energy += recovery
	}
}

func main() {
	fmt.Printf("\n%süéâ DAY 52/100: –ü–û–õ–û–í–ò–ù–ê –ü–£–¢–ò –ü–†–û–ô–î–ï–ù–ê!%s\n", ansi("1;33"), ansi("0"))
	fmt.Println(strings.Repeat("‚ïê", 55))

	// –°–∏–º—É–ª–∏—Ä—É–µ–º —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
	currentTime := time.Now().Format("15:04")
	moscowTime := currentTime
	courierEnergy := 15 // –ù–∏–∑–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è –ø–æ—Å–ª–µ –Ω–æ—á–∏ –≤—ã–±–æ—Ä–∞ –ø–æ–¥–∞—Ä–∫–æ–≤
	weatherBonus := 2.7 // +270% –¥–æ—Ö–æ–¥ –∏–∑-–∑–∞ –º–µ—Ç–µ–ª–∏
	homeLocation := "–î–æ–º (—Ç—ë–ø–ª—ã–π –ø–ª–µ–¥, –≥–æ—Ä—è—á–∏–π —á–∞–π)"

	fmt.Printf("%s‚è∞ –°–µ–π—á–∞—Å:%s %s | %s–°—Ç–∞—Ç—É—Å:%s –í–µ—Ä–Ω—É–ª—Å—è –¥–æ–º–æ–π –∏–∑ –º–µ—Ç–µ–ª–∏\n",
		ansi("1;36"), ansi("0"), moscowTime,
		ansi("1;36"), ansi("0"))

	// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–∞–ø—É –∑–∞–∫–∞–∑–æ–≤
	orders := map[int]Order{
		101: {ID: 101, Location: "–¶–µ–Ω—Ç—Ä –ú–æ—Å–∫–≤—ã (–≥–æ–ª–æ–ª—ë–¥)", Earnings: 1200, Status: "completed"},
		102: {ID: 102, Location: "–û—Ñ–∏—Å –Ω–∞ –°–æ–∫–æ–ª–µ (–º–µ—Ç–µ–ª—å)", Earnings: 950, Status: "completed"},
		103: {ID: 103, Location: "–ü–æ–¥–º–æ—Å–∫–æ–≤—å–µ (—Å–∏–ª—å–Ω—ã–π —Å–Ω–µ–≥)", Earnings: 1500, Status: "skipped"},
	}

	// –ò–∑–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞–ø—É
	updateOrderStatus(&orders, 103, "cancelled_by_choice")
	fmt.Printf("\n%süì¶ –ê–ù–ê–õ–ò–ó –ó–ê–ö–ê–ó–û–í (—á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞–ø—É):%s\n", ansi("1;34"), ansi("0"))
	for _, order := range orders {
		fmt.Printf("   #%d: %s ‚Üí %s (%.0f ‚ÇΩ) | –°—Ç–∞—Ç—É—Å: %s\n",
			order.ID,
			homeLocation,
			order.Location,
			order.Earnings,
			order.Status)
	}

	// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ª–∞–π—Å –º–∞—Ä—à—Ä—É—Ç–æ–≤
	routes := []string{"–î–æ–º ‚Üí –¶–µ–Ω—Ç—Ä", "–¶–µ–Ω—Ç—Ä ‚Üí –°–æ–∫–æ–ª"}

	// –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–ª–∞–π—Å
	addNewRoute(&routes, "–°–æ–∫–æ–ª ‚Üí –î–æ–º (–º–µ—Ç–µ–ª—å, -18¬∞C)")
	fmt.Printf("\n%süó∫Ô∏è –ú–ê–†–®–†–£–¢–´ –°–ï–ì–û–î–ù–Ø (—á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–ª–∞–π—Å):%s\n", ansi("1;36"), ansi("0"))
	for i, route := range routes {
		fmt.Printf("   %d. %s\n", i+1, route)
	}

	// –°—á–∏—Ç–∞–µ–º –∑–∞—Ä–∞–±–æ—Ç–æ–∫ —Å –ø–æ–≥–æ–¥–Ω—ã–º –±–æ–Ω—É—Å–æ–º
	totalEarnings := calculateTotalEarnings(orders, weatherBonus)
	fmt.Printf("\n%süí∞ –ò–¢–û–ì–û–í–´–ô –ó–ê–†–ê–ë–û–¢–û–ö:%s %d ‚ÇΩ (–±–∞–∑–∞) + %d%% –∑–∞ –º–µ—Ç–µ–ª—å = %.0f ‚ÇΩ\n",
		ansi("1;32"), ansi("0"),
		2150, int(weatherBonus*100), totalEarnings)

	// –§–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –≤—ã–≤–æ–¥ –æ–± —É–∫–∞–∑–∞—Ç–µ–ª—è—Ö
	fmt.Println("\n" + strings.Repeat("‚ïê", 55))
	fmt.Printf("%süí° –°–£–¢–¨ –£–ö–ê–ó–ê–¢–ï–õ–ï–ô –° –ú–ê–ü–ê–ú–ò –ò –°–õ–ê–ô–°–ê–ú–ò:%s\n", ansi("1;34"), ansi("0"))
	fmt.Println("   '–í Go –º–∞–ø—ã –∏ —Å–ª–∞–π—Å—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ —Å—Å—ã–ª–∫–∏ ‚Äî –Ω–æ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–∞—é—Ç –ö–û–ù–¢–†–û–õ–¨ –Ω–∞–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏.'")
	fmt.Println("   '–¢–∞–∫ –∏ –≤ –∂–∏–∑–Ω–∏: —Ç–≤–æ–∏ –∑–∞–∫–∞–∑—ã (–º–∞–ø–∞) –∏ –º–∞—Ä—à—Ä—É—Ç—ã (—Å–ª–∞–π—Å) –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å,'")
	fmt.Println("   '–µ—Å–ª–∏ –£–ö–ê–ó–ê–¢–¨ –Ω–∞ –Ω–æ–≤—É—é —Ü–µ–ª—å ‚Äî —Å—Ç–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º.'")
	fmt.Printf("   '–¢–≤–æ–π —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –≤—ã–±–æ—Ä: &futureCareer = \"Go-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫\"'\n")

	// –ü—Ä–æ–≥–Ω–æ–∑ IT-–∑–∞—Ä–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ 6 –º–µ—Å—è—Ü–µ–≤
	fmt.Printf("\n%süîÆ –ü–†–û–ì–ù–û–ó –ß–ï–†–ï–ó 6 –ú–ï–°–Ø–¶–ï–í:%s\n", ansi("1;35"), ansi("0"))
	itSalary := 250000 // Middle Go-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
	courierSalary := int(totalEarnings / 30 * 22) // –†–∞—Å—á—ë—Ç –Ω–∞ –º–µ—Å—è—Ü
	fmt.Printf("   üíº –ó–∞—Ä–ø–ª–∞—Ç–∞ –∫—É—Ä—å–µ—Ä–∞: %d ‚ÇΩ/–º–µ—Å\n", courierSalary)
	fmt.Printf("   üíª –ó–∞—Ä–ø–ª–∞—Ç–∞ Go-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞: %d ‚ÇΩ/–º–µ—Å\n", itSalary)
	fmt.Printf("   üìà –†–∞–∑–Ω–∏—Ü–∞: %d ‚ÇΩ/–º–µ—Å ‚Äî —Ü–µ–Ω–∞ —Ç–≤–æ–∏—Ö —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏—Ö –≤—ã–±–æ—Ä–æ–≤\n",
		itSalary-courierSalary)

	// –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤: –≤—ã–±–æ—Ä –¥–ª—è –∑–∞–≤—Ç—Ä–∞
	interactiveTomorrow(&courierEnergy, &homeLocation)
}

func interactiveTomorrow(energy *int, location *string) {
	fmt.Println("\n" + strings.Repeat("=", 55))
	fmt.Printf("%süåÖ –ß–¢–û –ë–£–î–ï–¢ –ó–ê–í–¢–†–ê, 26 –î–ï–ö–ê–ë–†–Ø?%s\n", ansi("1;34"), ansi("0"))
	fmt.Println("1. –ü—Ä–æ–≤–µ—Å—Ç–∏ 3 —á–∞—Å–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ: –∏–∑—É—á–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª–∏ —Å –º–∞–ø–∞–º–∏/—Å–ª–∞–π—Å–∞–º–∏")
	fmt.Println("2. –°–¥–µ–ª–∞—Ç—å 8 –∑–∞–∫–∞–∑–æ–≤ –≤ –º–µ—Ç–µ–ª—å + —á–∏—Ç–∞—Ç—å –∫–Ω–∏–≥—É –≤ –º–µ—Ç—Ä–æ 1 —á–∞—Å")
	fmt.Println("3. –û—Ç–¥—ã—Ö–∞—Ç—å –∏ –≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –ù–æ–≤–æ–º—É –ì–æ–¥—É")

	reader := bufio.NewReader(os.Stdin)
	var choice string
	var err error

	// –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞
	for {
		fmt.Print("\n–í–∞—à –≤—ã–±–æ—Ä (1-3): ")
		choice, err = reader.ReadString('\n')
		if err != nil {
			fmt.Printf("%s‚ùå –û—à–∏–±–∫–∞ –≤–≤–æ–¥–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.%s\n", ansi("1;31"), ansi("0"))
			continue
		}
		choice = strings.TrimSpace(choice)
		if choice == "1" || choice == "2" || choice == "3" {
			break
		}
		fmt.Printf("%s‚ö†Ô∏è –í—ã–±–µ—Ä–∏—Ç–µ 1, 2 –∏–ª–∏ 3.%s\n", ansi("1;33"), ansi("0"))
	}

	fmt.Println("\n" + strings.Repeat("-", 30))

	// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
	switch choice {
	case "1":
		fmt.Printf("%süöÄ –°–¢–†–ê–¢–ï–ì–ò–ß–ï–°–ö–ò–ô –í–´–ë–û–†!%s\n", ansi("1;32"), ansi("0"))
		fmt.Println("–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ ‚Äî —Ç–≤–æ–π '–∞–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏' –¥–ª—è –∑–Ω–∞–Ω–∏–π:")
		fmt.Println("—Ç—ã —É–∫–∞–∑—ã–≤–∞–µ—à—å –Ω–∞ –Ω–µ—ë, –∏ —Ç–≤–æ—è —ç–Ω–µ—Ä–≥–∏—è —Ä–∞—Å—Ç—ë—Ç –æ—Ç –æ—Å–æ–∑–Ω–∞–Ω–∏—è —Ü–µ–ª–∏.")
		updateEnergyLevel(energy, 3.0) // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏
		*location = "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–º. –õ–µ–Ω–∏–Ω–∞ (—Ç—ë–ø–ª—ã–π –∑–∞–ª, Wi-Fi, 22¬∞C)"
		fmt.Printf("%s‚úÖ –≠–Ω–µ—Ä–≥–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞:%s %d/100 | –ú–µ—Å—Ç–æ: %s\n",
			ansi("1;36"), ansi("0"), *energy, *location)
		fmt.Println("üí° –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–µ—Ç–∞–ª—å: –ö–∞–∫ &location —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–æ–≤—ã–π –∞–¥—Ä–µ—Å –≤ –ø–∞–º—è—Ç–∏,")
		fmt.Println("—Ç–∞–∫ –∏ —Ç—ã —É–∫–∞–∑—ã–≤–∞–µ—à—å –Ω–∞ –Ω–æ–≤—É—é –∂–∏–∑–Ω—å ‚Äî –±–µ–∑ –º–µ—Ç–µ–ª–∏ –∏ —Ç—É—Ä–Ω–∏–∫–µ—Ç–æ–≤.")

	case "2":
		fmt.Printf("%s‚ö†Ô∏è –†–ò–°–ö–û–í–ê–ù–ù–´–ô –í–´–ë–û–†!%s\n", ansi("1;31"), ansi("0"))
		fmt.Println("–ú–µ—Ç–µ–ª—å –∏ –≥–æ–ª–æ–ª—ë–¥ —Å–µ–≥–æ–¥–Ω—è —É–∂–µ —Å—ä–µ–ª–∏ 85% —Ç–≤–æ–µ–π —ç–Ω–µ—Ä–≥–∏–∏.")
		fmt.Println("–ü–æ–¥–ø–∏—Å—á–∏–∫–∏ –≤ –±–ª–æ–≥–µ –∫—Ä–∏—á–∞—Ç: '–†–∞–±–æ—Ç–∞–π –±–æ–ª—å—à–µ!' ‚Äî –Ω–æ –ø–æ–º–Ω–∏:")
		fmt.Println("—Ç–≤–æ–π –º–æ–∑–≥ ‚Äî –Ω–µ —Å–ª–∞–π—Å, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ append'–∏—Ç—å.")
		fmt.Printf("%süíî –≠–Ω–µ—Ä–≥–∏—è —É–ø–∞–¥—ë—Ç –¥–æ:%s 5/100 | –†–∏—Å–∫ —Ç—Ä–∞–≤–º—ã: 60%%\n",
			ansi("1;31"), ansi("0"))
		fmt.Println("üéØ –°–æ–≤–µ—Ç: –°–µ–≥–æ–¥–Ω—è 52-–π –¥–µ–Ω—å —á–µ–ª–ª–µ–Ω–¥–∂–∞. –¢—ã –Ω–∞ –ø–æ–ª–ø—É—Ç–∏.")
		fmt.Println("–ù–µ –æ–±–º–µ–Ω–∏–≤–∞–π –æ—Å—Ç–∞—Ç–æ–∫ —ç–Ω–µ—Ä–≥–∏–∏ –Ω–∞ –∑–∞–∫–∞–∑—ã ‚Äî –æ–±–º–µ–Ω–∏–≤–∞–π –Ω–∞ –∑–Ω–∞–Ω–∏—è.")

	case "3":
		fmt.Printf("%s‚ú® –ú–£–î–†–´–ô –í–´–ë–û–†!%s\n", ansi("1;33"), ansi("0"))
		fmt.Println("–ù–æ–≤—ã–π –ì–æ–¥ ‚Äî –≤—Ä–µ–º—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏. –ö–∞–∫ —É–∫–∞–∑–∞—Ç–µ–ª—å –≤ Go:")
		fmt.Println("–∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∞–¥—Ä–µ—Å—É, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –±—É–¥—É—â–µ–µ.")
		updateEnergyLevel(energy, 8.0) // –ü–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
		*location = "–î–æ–º–∞ (—ë–ª–∫–∞, –ø–æ–¥–∞—Ä–∫–∏, –º–∞–º–∏–Ω —É–∂–∏–Ω, 20¬∞C)"
		fmt.Printf("%süíØ –≠–Ω–µ—Ä–≥–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞:%s %d/100 | –ú–µ—Å—Ç–æ: %s\n",
			ansi("1;32"), ansi("0"), *energy, *location)
		fmt.Println("üí° –ò—Å—Ç–∏–Ω–∞: –í Go –º–∞–ø—ã –∏ —Å–ª–∞–π—Å—ã –º–æ–≥—É—Ç —Ä–∞—Å—Ç–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ,")
		fmt.Println("–Ω–æ —á–µ–ª–æ–≤–µ–∫—É –Ω—É–∂–µ–Ω –æ—Ç–¥—ã—Ö. –¢–≤–æ–π —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –æ—Ç–¥—ã—Ö ‚Äî")
		fmt.Println("—ç—Ç–æ &tomorrow = '–ø–æ–ª–Ω—ã–π –±–∞–∫ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è –∫–æ–¥–∞'")
	}
}

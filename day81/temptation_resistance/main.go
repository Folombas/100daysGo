package main

import (
	"fmt"
	"log"
)

func main() {
	fmt.Println("üöÄ Day 81: –ë–∏—Ç–≤–∞ —Å –ò—Å–∫—É—à–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ Error Wrapping")
	fmt.Println("==================================================")

	// –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
	taskManager := NewTaskManager()

	// –ü–æ–ø—ã—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
	err := taskManager.CompleteProgrammingTask("–∏–∑—É—á–∏—Ç—å error wrapping –≤ Go")
	if err != nil {
		// –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –æ—à–∏–±–∫—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
		log.Printf("–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏: %v", err)

		// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ –∏—Å–∫—É—à–µ–Ω–∏–µ–º
		if IsTemptation(err) {
			fmt.Println("‚ö†Ô∏è  –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –∏—Å–∫—É—à–µ–Ω–∏–µ! –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∑–∞—â–∏—Ç—É...")
			ResistTemptation(err)
		}

		// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å—é —Ü–µ–ø–æ—á–∫—É –æ—à–∏–±–æ–∫
		fmt.Println("\nüìã –ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫:")
		PrintErrorChain(err)
	}

	// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
	fmt.Println("\n‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞! –î–æ—Ñ–∞–º–∏–Ω +100")
	fmt.Println("üíæ –ö–æ–º–º–∏—Ç: 'feat: –æ—Å–≤–æ–∏–ª wrapping/unwrapping errors –≤ Go'")
}

# üöö Go-Logistics: –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≤ –¥–µ–π—Å—Ç–≤–∏–∏

**–ú–æ–¥—É–ª—å Day 95 –º–∞—Ä–∞—Ñ–æ–Ω–∞ "100DaysGo: Reboot"**

## üìñ –°—Ü–µ–Ω–∞—Ä–∏–π: "–ê–≤—Ç–æ–±–∞–∑–∞ 'Fialka FO'. –ü–æ–ª–Ω–æ—á—å –∏ —Ä–∞—Å—Å–≤–µ—Ç. –î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–¥–æ –¥–æ—Å—Ç–∞–≤–∏—Ç—å"

–ù–æ—á—å –≤ –¥–∏—Å–ø–µ—Ç—á–µ—Ä—Å–∫–æ–π **"Go-Logistics"**. –ì–æ—à–∞ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–ª–æ—Ç–∏–ª–∏–µ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö **—Ñ—É—Ä (–≥–æ—Ä—É—Ç–∏–Ω)**, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç **–≥—Ä—É–∑—ã –¥–∞–Ω–Ω—ã—Ö** –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º.

**–ú–µ—Ç–∞—Ñ–æ—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞:**
- üõª **–§—É—Ä—ã** = –≥–æ—Ä—É—Ç–∏–Ω—ã
- üì¶ **–ì—Ä—É–∑—ã** = –∑–∞–¥–∞—á–∏/–¥–∞–Ω–Ω—ã–µ
- üõ£Ô∏è **–ú–∞—Ä—à—Ä—É—Ç—ã** = –∫–∞–Ω–∞–ª—ã
- üè¢ **–î–∏—Å–ø–µ—Ç—á–µ—Ä—Å–∫–∞—è** = —É–ø—Ä–∞–≤–ª—è—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

## üéØ –û –ø—Ä–æ–µ–∫—Ç–µ

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç **5 –∫–ª—é—á–µ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≤ Go** —á–µ—Ä–µ–∑ –ø–æ–Ω—è—Ç–Ω—É—é –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫—É—é –º–µ—Ç–∞—Ñ–æ—Ä—É.

## üß© –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### 1. **Worker Pool (–ü—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤)**
–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—É–ª–æ–º –≥–æ—Ä—É—Ç–∏–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á:

```go
// –°–æ–∑–¥–∞–µ–º –ø—É–ª –∏–∑ 4 —Ñ—É—Ä-–≥–æ—Ä—É—Ç–∏–Ω
dispatcher := NewDispatcher(4)
```


### 2. **Producer-Consumer (–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å-–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å)**

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä—É–∑–æ–≤ (–∑–∞–¥–∞—á) –∏ –∏—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–≤–æ–±–æ–¥–Ω—ã–º —Ñ—É—Ä–∞–º (–≥–æ—Ä—É—Ç–∏–Ω–∞–º):

```go
// –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –≥—Ä—É–∑—ã
go dispatcher.generateCargo(12)

// –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ (—Ñ—É—Ä—ã) –∑–∞–±–∏—Ä–∞—é—Ç –≥—Ä—É–∑—ã
truck.channel <- cargo
```


### 3. **Fan-Out / Fan-In**

- **Fan-Out**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –≥–æ—Ä—É—Ç–∏–Ω–∞–º
- **Fan-In**: –°–±–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≥–æ—Ä—É—Ç–∏–Ω –≤ –æ–¥–∏–Ω –∫–∞–Ω–∞–ª


### 4. **Retry Pattern (–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞)**

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–≤—Ç–æ—Ä –¥–æ—Å—Ç–∞–≤–∫–∏ –ø—Ä–∏ —Å–±–æ—è—Ö:

```go
go func(c *Cargo) {
    time.Sleep(2 * time.Second)
    d.pending <- c // –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
}(cargo)
```


### 5. **Graceful Shutdown (–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ)**

–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –≥–æ—Ä—É—Ç–∏–Ω:

```go
// –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ —Ñ—É—Ä—ã —á–µ—Ä–µ–∑ quit-–∫–∞–Ω–∞–ª—ã
for _, truck := range d.trucks {
    truck.quit <- true
}
```


## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.21+
- Git


### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
git clone <repository-url> day95
cd day95/go-logistics

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É
go run main.go

# –ò–ª–∏ —Å–æ–±–µ—Ä–∏—Ç–µ –±–∏–Ω–∞—Ä–Ω–∏–∫
go build -o go-logistics main.go
./go-logistics
```


### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üöö GO-LOGISTICS: –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üöõ –°–æ–∑–¥–∞–Ω –ø—É–ª –∏–∑ 4 —Ñ—É—Ä
üì¶ –°–æ–∑–¥–∞–Ω –≥—Ä—É–∑ CRG-0001 ‚Üí auth-service
‚úÖ FU-001: –î–æ—Å—Ç–∞–≤–∏–ª CRG-0001 ‚Üí auth-service
‚ö†Ô∏è FU-002 (–ü–µ—Ç—Ä–æ–≤–∏—á): –ü–æ–ø–∞–ª –≤ —Ç—É–º–∞–Ω –∫ user-service
üî• FU-003: –°–ª–æ–º–∞–ª—Å—è! –ì—Ä—É–∑ CRG-0003 –Ω–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω

üìä –ò–¢–û–ì–ò:
   ‚úÖ –î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ: 9
   ‚ùå –°–±–æ–µ–≤: 3
   üöõ –§—É—Ä –≤ –ø—É–ª–µ: 4
```


## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```go
type Cargo struct {
    ID          string    `json:"id"`
    Destination string    `json:"destination"`
    Data        string    `json:"data"`
    Status      string    `json:"status"`
}

type Truck struct {
    ID      string        `json:"id"`
    Driver  string        `json:"driver"`
    channel chan *Cargo   `json:"-"`  // –ö–∞–Ω–∞–ª –¥–ª—è –≥—Ä—É–∑–æ–≤
    quit    chan bool     `json:"-"`  // –ö–∞–Ω–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
}

type Dispatcher struct {
    trucks    []*Truck    `json:"trucks"`
    pending   chan *Cargo `json:"-"`
    delivered chan *Cargo `json:"-"`
    failed    chan *Cargo `json:"-"`
    log       []string    `json:"log"`
}
```


### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä—É–∑–æ–≤ ‚Üí generateCargo()
     ‚Üì
–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ‚Üí distribute() (Fan-Out)
     ‚Üì
–û–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí truck.work()
     ‚Üì
–°–±–æ—Ä ‚Üí collectResults() (Fan-In)
     ‚Üì
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí showLog(), shutdown()
```


## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
go test ./...

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
go test -cover ./...

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
go test -run TestNewDispatcher

# –° race detector
go test -race ./...
```


## üìö –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å

| –£—Ä–æ–≤–µ–Ω—å | –ß—Ç–æ –æ—Å–≤–æ–∏—Ç–µ |
| :-- | :-- |
| **–ù–∞—á–∏–Ω–∞—é—â–∏–µ** | –ì–æ—Ä—É—Ç–∏–Ω—ã, –∫–∞–Ω–∞–ª—ã, –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ |
| **–°—Ä–µ–¥–Ω–∏–π** | Worker Pool, Fan-Out/In, Graceful Shutdown |
| **–≠–∫—Å–ø–µ—Ä—Ç—ã** | Resilience, Fault Tolerance, –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å |

## üéÆ –≠–ª–µ–º–µ–Ω—Ç—ã –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–°–ª—É—á–∞–π–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (—Ä–µ–∞–ª–∏–∑–º):**

- ‚úÖ –û–±—ã—á–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞: 1-3 —Å–µ–∫
- üå´Ô∏è –¢—É–º–∞–Ω: –≤—Ä–µ–º—è √ó2
- üî• –ü–æ–ª–æ–º–∫–∞: 10% —à–∞–Ω—Å, retry

**–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è:**

- üßî –§—É—Ä—ã —Å –∏–º–µ–Ω–∞–º–∏ (–ü–µ—Ç—Ä–æ–≤–∏—á, –°–µ–º—ë–Ω—ã—á)
- üìã –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID –≥—Ä—É–∑–æ–≤/—Ñ—É—Ä
- üìú –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∂—É—Ä–Ω–∞–ª


## üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ò–¥–µ–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –≥—Ä—É–∑–æ–≤**

```go
type Cargo struct {
    Priority int // 1-–≤—ã—Å–æ–∫–∏–π, 3-–Ω–∏–∑–∫–∏–π
}
```

2. **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**
4. **Persistent storage**
5. **REST API**

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
day95/go-logistics/
‚îú‚îÄ‚îÄ main.go          # üéÆ –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îú‚îÄ‚îÄ go.mod           # üì¶ –ú–æ–¥—É–ª—å
‚îú‚îÄ‚îÄ go.sum           # üîí –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md        # üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ main_test.go     # üß™ –¢–µ—Å—Ç—ã
```


## üë• –î–ª—è –∫–æ–≥–æ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç

‚úÖ **–ù–∞—á–∏–Ω–∞—é—â–∏–µ Go** ‚Äî –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å
‚úÖ **–°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è** ‚Äî –ø–æ–∫–∞–∂–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
‚úÖ **–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏** ‚Äî –≥–æ—Ç–æ–≤—ã–π –∫–µ–π—Å
‚úÖ **–õ—é–±–æ–ø—ã—Ç–Ω—ã–µ** ‚Äî –∫—Ä–∞—Å–∏–≤–∞—è –º–µ—Ç–∞—Ñ–æ—Ä–∞

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –º–æ–¥—É–ª—è –≤—ã —Å–º–æ–∂–µ—Ç–µ:

- [x] –°–æ–∑–¥–∞–≤–∞—Ç—å **Worker Pool**
- [x] –ü—Ä–∏–º–µ–Ω—è—Ç—å **Fan-Out/In**
- [x] –†–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å **Retry Pattern**
- [x] –î–µ–ª–∞—Ç—å **Graceful Shutdown**
- [x] –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å **–æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã**


## ‚ö†Ô∏è DISCLAIMER

**üé≠ –•–£–î–û–ñ–ï–°–¢–í–ï–ù–ù–û–ï –ü–†–û–ò–ó–í–ï–î–ï–ù–ò–ï**

–í—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ (–ì–æ—à–∞, –ü–µ—Ç—Ä–æ–≤–∏—á, –°–µ–º—ë–Ω—ã—á) –∏ —Å–æ–±—ã—Ç–∏—è ‚Äî **–≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–µ**. –°–æ–∑–¥–∞–Ω–æ –¥–ª—è:

üéì **–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è** ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏
üé≠ **–î—Ä–∞–º—ã** ‚Äî –ª—É—á—à–µ–µ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
üí™ **–ú–æ—Ç–∏–≤–∞—Ü–∏–∏** ‚Äî —Å—Ç–æ—Ä–∏—Ç–µ–ª–ª–∏–Ω–≥

**–õ—é–±—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã.**

## üèÜ –¶–∏—Ç–∞—Ç–∞ –¥–Ω—è

> "–î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç—É–º–∞–Ω, –ø–æ–ª–æ–º–∫–∏ –∏ —Å–∫–µ–ø—Ç–∏–∫–æ–≤. –ì–æ—Ä—É—Ç–∏–Ω—ã ‚Äî –Ω–∞—à–∏ —Ñ—É—Ä—ã, –∫–∞–Ω–∞–ª—ã ‚Äî –Ω–∞—à–∏ –¥–æ—Ä–æ–≥–∏."

## üìû –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

[–°–æ–∑–¥–∞—Ç—å issue](https://github.com/yourusername/100daysgo-reboot/issues/new)
–ß–∞—Ç –º–∞—Ä–∞—Ñ–æ–Ω–∞ "100DaysGo: Reboot"

***

**–î–µ–Ω—å 95 –∏–∑ 100 –ø—Ä–æ–π–¥–µ–Ω. –ì—Ä—É–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω. –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç. üöõüí®**

***

–ì–æ—Ç–æ–≤–æ! –ü–æ–ª–Ω—ã–π README.md –¥–ª—è Day 95 üöö Go-Logistics.

**–ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ:**
‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
‚úÖ –†–∞–±–æ—á–∏–µ –±–µ–π–¥–∂–∏
‚úÖ –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞
‚úÖ –¢–∞–±–ª–∏—Ü—ã –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã
‚úÖ –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è
‚úÖ Disclaimer

–•–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π `main.go` –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –¥–µ—Ç–∞–ª–∏?
